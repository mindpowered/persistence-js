<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Persistence</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Persistence</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>Persistence<span class="signature">()</span><span class="type-signature"></span></h2>
        
            <div class="class-description">Provides a way of storing data for mindpowered packages.
When mindpowered packages need to persist data, they will use Get and Mutate, which in turn will call the Mutators and Getters you have set up.
You can set up the Mutators and Getters however you like whether to access a database such as MySQL or MongoDB, or simply write and read from text files.
Note: when using a mapping (updateMapper, queryMapper, resultMapper), the data will be passed in as the first argument to the mapping function.</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="Persistence"><span class="type-signature"></span>new Persistence<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Persistence.js.html">Persistence.js</a>, <a href="Persistence.js.html#line16">line 16</a>
    </li></ul></dd>
    

    

    

    
</dl>




















    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="AddGetter"><span class="type-signature"></span>AddGetter<span class="signature">(recordType, operationName, strategyMethod, queryMapper, resultMapper, useQueryValuesAsParams)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Set up a Getter to retrieve data
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>recordType</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">type of record being retrieved (eg. databsae table name)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>operationName</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">query being performed for the record type (eg. findById, findByName, findActive, getInsertedId)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>strategyMethod</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">method to call to actually perform the data retrieval</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>queryMapper</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">method to call on queryValues before calling strategyMethod with the results</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>resultMapper</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">method to call on data returned from the strategyMethod before returning the results</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>useQueryValuesAsParams</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">if set to true, the queryValues will be passed as the arguments to strategyMethod, rather than as the first argument</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Persistence.js.html">Persistence.js</a>, <a href="Persistence.js.html#line45">line 45</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="AddMutator"><span class="type-signature"></span>AddMutator<span class="signature">(recordType, operationName, strategyMethod, updateMapper, useRecordDataAsParams)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Set up a Mutator to change stored data
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>recordType</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">type of record being changed (eg. databsae table name)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>operationName</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">action being performed on the record (eg. insert, update)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>strategyMethod</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">method to call to actually perform the mutation</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>updateMapper</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">method to call on recordData before calling strategyMethod with the results</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>useRecordDataAsParams</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">if set to true, the recordData will be passed as the arguments to strategyMethod, rather than as the first argument</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Persistence.js.html">Persistence.js</a>, <a href="Persistence.js.html#line30">line 30</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="Get"><span class="type-signature"></span>Get<span class="signature">(recordType, operationName, queryValues)</span><span class="type-signature"> &rarr; {mixed}</span></h4>
    

    



<div class="description">
    Use a Getter to retrieve data
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>recordType</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">type of record being retrieved (eg. databsae table name)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>operationName</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">query being performed for the record type (eg. findById, findByName, findActive, getInsertedId)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>queryValues</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">values that will be passed through queryMapper and then strategyMethod to perform the query</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Persistence.js.html">Persistence.js</a>, <a href="Persistence.js.html#line70">line 70</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    result from the getter after being passed through resultMapper
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">mixed</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="Mutate"><span class="type-signature"></span>Mutate<span class="signature">(recordType, operationName, recordData)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Use a Mutator to change stored data
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>recordType</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">type of record being changed (eg. databsae table name)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>operationName</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">action being performed on the record (eg. insert, update)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>recordData</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">data being updated or saved by passing through updateMapper and then strategyMethod</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Persistence.js.html">Persistence.js</a>, <a href="Persistence.js.html#line57">line 57</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Persistence.html">Persistence</a></li></ul><h3>Global</h3><ul><li><a href="global.html#maglev">maglev</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Wed Nov 11 2020 20:09:42 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>